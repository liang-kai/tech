# 网络

## http 1.1
超文本传输协议，起先只是传输html文件用的，一个请求行就够用了。比如`get http://club.com`,这不，随着万维网的发展，不够用了，javascript\css\音视频都需要传输。

于是有了1.0版本，有了请求头。

```
    accept: 'text/html'
    accept-encoding: gzip, 
    host
    cookie
    reffer
    
```

有了响应头
```
    content-type: 'text/html'
    content-encoding: gzip
    cache族
    
```

1.1 版本又做了些改进，
    1. 增加了持久连接，减少TCP握手次数
    2. 为每个域名分配最多6个TCP
    3. 使用不同CDN实现域名分片

## http 2.0

之前的协议不能将带宽占满，存在如下问题：
1. TCP启动慢
2. 多个TCP链接，竞争有限带宽
3. 队头阻塞。使用了持久链接，如果有一个堵住了，其他资源就得等。

于是有了2.0

好处：
1. 主要是多路复用。
    如何实现？只使用一个TCP 链接，进行一次慢启动。然后把所有请求编号、打包，借助TCP管道连续发送。服务端收到数据后按照编号组装，响应了数据后就发送回去。客户端再安装编号组装拿到数据。编号打包的技术，称为 二进制分帧。
2. 可以压缩请求头
3. 接收服务端推送。
    


## http 3.0

http2 似乎完美了，但追求还是要有的。
不足之处在于TCP的限制：
1. 首次连接慢
2. 队头阻塞。 如果丢了一个TCP数据包，就需要等待重传。